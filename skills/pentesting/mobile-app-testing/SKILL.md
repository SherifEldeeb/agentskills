---
name: mobile-app-testing
description: |
  Mobile application security testing for Android and iOS apps. Static analysis,
  dynamic testing, reverse engineering, and API security testing.
  Use for mobile application penetration testing.
license: Apache-2.0
compatibility: |
  - Python 3.9+
  - Optional: frida, objection, androguard
metadata:
  author: SherifEldeeb
  version: "1.0.0"
  category: pentesting
---

# Mobile App Testing Skill

Mobile application security testing for Android and iOS platforms.

## Capabilities

- **Static Analysis**: APK/IPA analysis, decompilation
- **Dynamic Analysis**: Runtime testing, traffic interception
- **Reverse Engineering**: Code analysis, binary inspection
- **API Security**: Backend API testing
- **Data Storage**: Local data security analysis
- **Certificate Pinning**: Bypass techniques
- **Root/Jailbreak Detection**: Bypass techniques

## Quick Start

```python
from mobile_utils import AndroidAnalyzer, iOSAnalyzer, DynamicTester

# Android static analysis
android = AndroidAnalyzer('app.apk')
findings = android.static_analysis()

# iOS static analysis
ios = iOSAnalyzer('app.ipa')
findings = ios.static_analysis()

# Dynamic testing
dynamic = DynamicTester('com.example.app')
dynamic.intercept_traffic()
```

## Usage

### Android Static Analysis

Analyze Android applications statically.

**Example**:
```python
from mobile_utils import AndroidAnalyzer

android = AndroidAnalyzer('target.apk')

# Basic info
info = android.get_app_info()
print(f"Package: {info['package']}")
print(f"Version: {info['version']}")
print(f"Min SDK: {info['min_sdk']}")
print(f"Target SDK: {info['target_sdk']}")

# Permission analysis
perms = android.analyze_permissions()
print(f"Dangerous permissions: {perms['dangerous']}")

# Component analysis
components = android.analyze_components()
print(f"Exported activities: {components['exported_activities']}")
print(f"Exported services: {components['exported_services']}")
print(f"Content providers: {components['content_providers']}")

# Code analysis
code = android.analyze_code()
print(f"Hardcoded secrets: {code['secrets']}")
print(f"Insecure functions: {code['insecure_functions']}")
print(f"Logging enabled: {code['logging']}")

# Network security
network = android.analyze_network_security()
print(f"Cleartext allowed: {network['cleartext_allowed']}")
print(f"Certificate pinning: {network['cert_pinning']}")

# Crypto analysis
crypto = android.analyze_crypto()
print(f"Weak algorithms: {crypto['weak_algorithms']}")
print(f"Hardcoded keys: {crypto['hardcoded_keys']}")

# Generate report
android.generate_report('android_analysis.json')
```

### iOS Static Analysis

Analyze iOS applications statically.

**Example**:
```python
from mobile_utils import iOSAnalyzer

ios = iOSAnalyzer('target.ipa')

# Basic info
info = ios.get_app_info()
print(f"Bundle ID: {info['bundle_id']}")
print(f"Version: {info['version']}")
print(f"Min iOS: {info['min_ios']}")

# Entitlements
entitlements = ios.analyze_entitlements()
print(f"Keychain groups: {entitlements['keychain_groups']}")
print(f"App groups: {entitlements['app_groups']}")

# Binary analysis
binary = ios.analyze_binary()
print(f"PIE enabled: {binary['pie']}")
print(f"Stack canaries: {binary['stack_canaries']}")
print(f"ARC: {binary['arc']}")

# Code analysis
code = ios.analyze_code()
print(f"Hardcoded URLs: {code['urls']}")
print(f"Insecure APIs: {code['insecure_apis']}")

# Data protection
data = ios.analyze_data_protection()
print(f"Protection class: {data['protection_class']}")

# Generate report
ios.generate_report('ios_analysis.json')
```

### Dynamic Testing

Perform runtime testing of mobile apps.

**Example**:
```python
from mobile_utils import DynamicTester

dynamic = DynamicTester('com.example.app', platform='android')

# Connect to device
dynamic.connect('192.168.1.100:5555')

# Intercept traffic
dynamic.start_proxy(port=8080)
traffic = dynamic.capture_traffic(duration=300)
for request in traffic:
    print(f"{request['method']} {request['url']}")

# Bypass SSL pinning
dynamic.bypass_ssl_pinning()

# Bypass root detection
dynamic.bypass_root_detection()

# Hook functions
dynamic.hook_function(
    class_name='com.example.Auth',
    method='checkPassword',
    callback=log_password
)

# Dump memory
memory = dynamic.dump_memory()

# Extract data
data = dynamic.extract_local_data()
print(f"SharedPrefs: {data['shared_prefs']}")
print(f"Databases: {data['databases']}")
print(f"Files: {data['files']}")

# Frida scripting
dynamic.run_frida_script('script.js')
```

### API Testing

Test mobile app backend APIs.

**Example**:
```python
from mobile_utils import MobileAPITester

api = MobileAPITester('https://api.example.com')

# Configure from traffic capture
api.import_traffic('captured.har')

# Test authentication
auth = api.test_authentication()
print(f"Token security: {auth['token_security']}")
print(f"Session management: {auth['session']}")

# Test API endpoints
endpoints = api.test_endpoints()
for ep in endpoints:
    print(f"{ep['method']} {ep['path']}: {ep['issues']}")

# Test for IDOR
idor = api.test_idor()

# Test rate limiting
rate = api.test_rate_limiting()
```

## Configuration

### Environment Variables

| Variable | Description | Required | Default |
|----------|-------------|----------|---------|
| `ANDROID_SDK` | Android SDK path | No | Auto-detect |
| `ADB_PATH` | ADB binary path | No | Auto-detect |

## Limitations

- **Device Access**: Requires device/emulator for dynamic testing
- **Root/Jailbreak**: Some tests require rooted/jailbroken device
- **Obfuscation**: Heavy obfuscation may limit analysis

## Related Skills

- [api-security-testing](../api-security-testing/): Backend API testing
- [reverse-engineering](../reverse-engineering/): Binary analysis
- [pentest-reporting](../pentest-reporting/): Document findings

## References

- [OWASP Mobile Testing Guide](https://mobile-security.gitbook.io/mobile-security-testing-guide/)
- [Frida](https://frida.re/)
- [Objection](https://github.com/sensepost/objection)
